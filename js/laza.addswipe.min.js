!function(t,e,n){"use strict";t.fn.addSwipe=function(o,a,r){r=t.extend({},t.fn.addSwipe.defaults,r);var u=function(t){return t.touches&&1===t.touches.length?[Math.round(t.touches[0].clientX),Math.round(t.touches[0].clientY)]:null!==t.clientX?[Math.round(t.clientX),Math.round(t.clientY)]:null},i=function(t){return t.touches&&1===t.touches.length?Math.round(t.touches[0].clientX):null!==t.clientX?Math.round(t.clientX):null};return this.each(function(){var l,s,d,c,h,f,g,p,m=t(this),v=m.parent(),w=m.data("lsw_ns")||"lsw_"+Math.floor(1e4*Math.random()),M=0,T=0,y=v.outerWidth(),E=v.outerHeight(),H=m.outerWidth(),C=m.outerHeight(),D=function(){y=v.outerWidth(),E=v.outerHeight()},O=function(){M=m.data("tr_x")||0,T=p?0:m.data("tr_y")||0,f=g=0},S=function(n){if(m.data("scrolling")||t(n.target).closest("[data-noswipe]").length)return!0;if(n.originalEvent.touches&&n.originalEvent.touches.length>1||"mousedown"===n.type&&1!==n.which)return!0;"touchstart"!==n.type&&n.preventDefault();var o=u(n.originalEvent);return c=o[0],h=o[1],m.removeClass("smooth"),m.data("scrolling",!1),m.data("taplength",0),d=(new Date).getTime(),y=y||v.outerWidth(),H=m.outerWidth(),C=m.outerHeight(),p=E>=C,l=H>y?Math.round((H-y*(1-r.oversizeTreshold))/2):0,O(),"touchstart"===n.type?!0:("mousedown"===n.type?(e.on("mousemove."+w,U),e.add(m).on("mouseup."+w,W)):"pointerdown"===n.type?(e.on("pointermove."+w,U),e.add(m).on("pointerup."+w,W)):"MSPointerDown"===n.type&&(e.on("MSPointerMove."+w,U),e.add(m).on("MSPointerUp."+w,W)),!1)},U=function(t){if(t.originalEvent.touches&&t.originalEvent.touches.length>1)return!0;if(t.preventDefault(),p)f=i(t.originalEvent)-c,m.translate(M+f,0);else{var e=u(t.originalEvent);f=e[0]-c,g=e[1]-h,m.translate(M+f,T+g)}return m.data("scrolling",f||g),!1},X=function(t){return"touchcancel"!==t.type&&("dragcancel"===t.type?(e.off("mousemove."+w),e.add(m).off("mouseup."+w)):(e.off(TOUCH.MOVE+"."+w),e.add(m).off(TOUCH.END+"."+w))),setTimeout(function(){m.data("scrolling",!1)},20),m.translate(0,0,"smooth"),!1},W=function(n){"touchend"!==n.type&&("mouseup"===n.type?(e.off("mousemove."+w),e.add(m).off("mouseup."+w)):(e.off(TOUCH.MOVE+"."+w),e.add(m).off(TOUCH.END+"."+w)));var u=(new Date).getTime()-d;if(Math.abs(f)<r.treshold&&(p||Math.abs(g)<r.treshold))return z(),m.data("scrolling",!1),m.data("taplength",u),(f||g)&&m.translate(0,0),A(),!0;n.preventDefault(),m.data("scrolling",!0);var i=M+f+300*f/u,s=p?0:T+g+300*g/u;return m.translate(i,s,"smooth"),-l>i?t.isFunction(o)&&o.call(t(this)):i>l&&t.isFunction(a)&&a.call(t(this)),setTimeout(function(){m.data("scrolling",!1)},100),!1},_=function(t){return t.preventDefault(),!1},b=function(){setTimeout(function(){m.data("scrolling",!1)},20),m.removeAttr("draggable"),z()},z=function(){m.off("."+w),e.off("."+w),n.off("."+w)},A=function(){O(),m.on(TOUCH.START+"."+w+" dragstart."+w+" mousedown."+w,S).on(TOUCH.CANCEL+"."+w+" dragcancel."+w,X).on("touchmove."+w+" drag."+w,U).on("touchend."+w+" dragend."+w,W)};z(),m.data("lsw_ns",w),n.on("resize."+w,function(){clearTimeout(s),s=setTimeout(D,50)}),m.attr("draggable","true").on("unswipe."+w,b).on("selectstart."+w,_),A()})},t.fn.addSwipe.defaults={treshold:20,oversizeTreshold:.15,margin:15}}(jQuery,$(document),$(window));