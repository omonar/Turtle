!function(t){"use strict";var o=0,e=0,s=1,a=1,n=2,p=2,i=["left","center","right"],r=["top","middle","bottom"],l="align-left align-center align-right valign-top valign-middle valign-bottom";t.fn.alignTo=function(f,d){if(d=t.extend({},t.fn.alignTo.defaults,d),"string"==typeof f&&(f=t(f)),f instanceof t&&f.length){var g,h,c,u=t(window).width(),v=t(window).height(),m=function(o){var e={left:0,top:0};return o.parents().each(function(){return"fixed"===t(this).css("position")?(e.left=t(window).scrollLeft(),e.top=t(window).scrollTop(),!1):void 0}),e},w=m(f);if("AREA"===f[0].nodeName&&"RECT"===f[0].shape.toUpperCase()){var I=f[0].coords.split(",");h=parseInt(I[2],10)-parseInt(I[0],10),c=parseInt(I[3],10)-parseInt(I[1],10),g=f.parent().offset(),g.left+=parseInt(I[0],10),g.top+=parseInt(I[1],10)}else g=f.offset(),h=f.outerWidth(),c=f.outerHeight();return g.left-=w.left,g.top-=w.top,t(this).each(function(){var f=t(this),m=d.pos[2],I=d.pos[3];f.css("maxHeight","none");var x=f.outerWidth(),M=f.outerHeight(),T=Math.round(g.left+d.pos[2]*h/2+(d.pos[2]-1)*d.gap),C=Math.round(g.top+d.pos[3]*c/2+(d.pos[3]-1)*d.gap),H=Math.round(T-d.pos[0]*x/2),b=Math.round(C-d.pos[1]*M/2);(0>b||b+M>v)&&(d.pos[2]!==s?b=2*b+M>v?v-M:0:d.pos[3]===e?v>2*g.top+c&&(b=g.top+c+d.gap,I=p):d.pos[3]===p&&v<2*g.top+c&&(b=Math.max(0,g.top-M-d.gap),I=e),0>b&&(b=0),b+M>v&&f.css({overflow:"auto",maxHeight:v-b-(parseInt(f.css("paddingTop"),10)+parseInt(f.css("paddingBottom"),10))})),(0>H||H+x>u)&&(d.pos[3]!==a?H=2*H+x>u?u-x:0:d.pos[2]===o?u>2*g.left+h&&(H=g.left+h+d.gap,m=n):d.pos[2]===n&&u<2*g.left+h&&(H=Math.max(0,g.left-x-d.gap),m=o),0>H&&(H=0),H+x>u&&f.css({overflow:"auto",maxWidth:u-H-(parseInt(f.css("paddingLeft"),10)+parseInt(f.css("paddingRight"),10))})),f.css({position:"absolute",left:H+w.left,top:b+w.top}).removeClass(l).addClass("align-"+i[m]).addClass("valign-"+r[I])})}},t.fn.alignTo.defaults={gap:0,pos:[s,p,s,e]}}(jQuery);